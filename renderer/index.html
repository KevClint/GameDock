<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; connect-src 'self' https://api.rawg.io; img-src 'self' data: https:; font-src 'self' https://fonts.gstatic.com;">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GameDock</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="title-bar">
    <div class="title-left">
      <span class="logo-icon material-symbols-outlined">sports_esports</span>
      <span class="logo-text">GameDock</span>
    </div>
    <div class="title-actions">
      <button id="btn-hide" class="title-btn" title="Minimize to tray" aria-label="Minimize">
        <span class="material-symbols-outlined">minimize</span>
      </button>
      <button id="btn-close" class="title-btn title-btn-close" title="Quit" aria-label="Close">
        <span class="material-symbols-outlined">close</span>
      </button>
    </div>
  </div>

  <div class="app-shell">
    <aside class="sidebar" aria-label="Primary">
      <nav class="nav-primary">
        <button class="nav-item active" data-nav="library" title="Library">
          <span class="material-symbols-outlined">library_books</span>
          <span class="nav-label">Library</span>
        </button>
        <button class="nav-item" data-nav="discover" title="Discover">
          <span class="material-symbols-outlined">explore</span>
          <span class="nav-label">Discover</span>
        </button>
        <button class="nav-item" data-nav="community" title="Community">
          <span class="material-symbols-outlined">group</span>
          <span class="nav-label">Community</span>
        </button>
      </nav>

      <nav class="nav-secondary">
        <button class="nav-item" data-nav="settings-nav" title="Settings">
          <span class="material-symbols-outlined">tune</span>
          <span class="nav-label">Settings</span>
        </button>
      </nav>
    </aside>

    <main class="main-view">
      <header class="content-header">
        <div class="header-left">
          <h1 class="header-title">Library</h1>
        </div>

        <div class="header-actions">
          <label class="search-container" for="search-input">
            <span class="material-symbols-outlined search-icon">search</span>
            <input
              type="text"
              id="search-input"
              class="search-input"
              placeholder="Search games..."
              aria-label="Search games"
            />
          </label>

          <button class="btn-add-game" id="btn-add-game" title="Add a new game">
            <span class="material-symbols-outlined">add</span>
            <span>Add Game</span>
          </button>
        </div>
      </header>

      <section id="view-library" class="view-panel is-active">
        <div class="filter-bar">
          <div class="categories" id="categories">
            <button class="cat-btn active" data-cat="all">All Games</button>
            <button class="cat-btn" data-cat="FPS">FPS</button>
            <button class="cat-btn" data-cat="MOBA">MOBA</button>
            <button class="cat-btn" data-cat="RPG">RPG</button>
            <button class="cat-btn" data-cat="RTS">RTS</button>
            <button class="cat-btn" data-cat="Other">Other</button>
          </div>
        </div>

        <div class="game-grid" id="game-list"></div>
      </section>

      <section id="view-discovery" class="view-panel" hidden>
        <div class="discovery-shell">
          <div id="discovery-loading" class="discovery-loading">
            <div class="hero-skeleton skeleton shimmer"></div>
            <div class="discovery-grid" id="discovery-skeleton-grid">
              <article class="discovery-card skeleton-card skeleton shimmer"></article>
              <article class="discovery-card skeleton-card skeleton shimmer"></article>
              <article class="discovery-card skeleton-card skeleton shimmer"></article>
              <article class="discovery-card skeleton-card skeleton shimmer"></article>
              <article class="discovery-card skeleton-card skeleton shimmer"></article>
              <article class="discovery-card skeleton-card skeleton shimmer"></article>
            </div>
          </div>

          <div id="discovery-offline" class="discovery-offline is-hidden" hidden>
            <span class="material-symbols-outlined">cloud_off</span>
            <h3>Discovery Is Offline</h3>
            <p class="meta-text" id="discovery-offline-message">Check your RAWG API key or network and try again.</p>
            <button id="btn-discovery-retry" class="btn-secondary">
              <span class="material-symbols-outlined">refresh</span>
              Retry
            </button>
          </div>

          <div id="discovery-content" class="is-hidden" hidden>
            <div id="discovery-hero"></div>
            <div class="view-block-header">
              <h3>Trending Games</h3>
              <span class="meta-text" id="discovery-meta-trending">Top picks this year</span>
            </div>
            <div id="discovery-grid-trending" class="discovery-grid"></div>
            <div class="view-block-header">
              <h3>Highly Rated Indie</h3>
              <span class="meta-text">Deal of the day alternatives</span>
            </div>
            <div id="discovery-grid-indie" class="discovery-grid"></div>
          </div>
        </div>
      </section>
      <section id="view-community" class="view-panel" hidden>
        <div class="community-layout">
          <section class="community-feed-col">
            <div class="view-block-header">
              <h3>
                <span class="material-symbols-outlined">rss_feed</span>
                The Feed
              </h3>
              <span class="meta-text">Latest gaming headlines</span>
            </div>
            <div id="community-feed-list" class="community-feed-list"></div>
          </section>
        </div>
      </section>
      <section id="view-settings" class="view-panel" hidden>
        <div class="settings-shell">
          <div class="settings-nav">
            <button class="settings-tab active" data-settings-tab="general">General</button>
            <button class="settings-tab" data-settings-tab="notifications">Notifications</button>
            <button class="settings-tab" data-settings-tab="performance">Performance</button>
          </div>

          <div class="settings-content">
            <section class="settings-section" data-settings-panel="general">
              <h3>App Behavior</h3>
              <div class="settings-row">
                <div class="settings-copy">
                  <div class="settings-name">Always on Top</div>
                  <div class="settings-desc">Keep GameDock pinned above other windows.</div>
                </div>
                <label class="switch">
                  <input type="checkbox" id="set-always-on-top" />
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="settings-row">
                <div class="settings-copy">
                  <div class="settings-name">Launch on Startup</div>
                  <div class="settings-desc">Start GameDock when Windows starts.</div>
                </div>
                <label class="switch">
                  <input type="checkbox" id="set-auto-start" />
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="settings-row">
                <div class="settings-copy">
                  <div class="settings-name">Minimize to Tray</div>
                  <div class="settings-desc">Hide to tray instead of fully closing.</div>
                </div>
                <label class="switch">
                  <input type="checkbox" id="set-minimize-tray" />
                  <span class="switch-slider"></span>
                </label>
              </div>
              <h3>System</h3>
              <div class="settings-row">
                <div class="settings-copy">
                  <div class="settings-name">Version</div>
                  <div class="settings-desc">Current installed build.</div>
                </div>
                <span id="set-app-version" class="setting-value">-</span>
              </div>
              <div class="settings-actions">
                <div class="settings-inline-actions">
                  <button id="btn-export-backup" class="btn-secondary">
                    <span class="material-symbols-outlined">save</span>
                    Export
                  </button>
                  <button id="btn-import-backup" class="btn-secondary">
                    <span class="material-symbols-outlined">upload</span>
                    Import
                  </button>
                </div>
                <button class="btn-primary" id="btn-save-settings">Save Settings</button>
              </div>
            </section>

            <section class="settings-section" data-settings-panel="notifications" hidden>
              <h3>Launch Alerts</h3>
              <div class="settings-row">
                <div class="settings-copy">
                  <div class="settings-name">Launch Notifications</div>
                  <div class="settings-desc">Show a desktop alert when a game starts.</div>
                </div>
                <label class="switch">
                  <input type="checkbox" id="set-launch-notifications" />
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="settings-actions">
                <button class="btn-primary" id="btn-save-notifications">Save Notifications</button>
              </div>
            </section>

            <section class="settings-section" data-settings-panel="performance" hidden>
              <h3>Performance</h3>
              <div class="settings-row">
                <div class="settings-copy">
                  <div class="settings-name">Renderer Optimization</div>
                  <div class="settings-desc">Performance tuning controls are planned for a future update.</div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="delete-bar" class="delete-bar">
    <span id="delete-bar-name" class="delete-bar-name"></span>
    <div class="delete-bar-actions">
      <button id="delete-bar-btn" class="btn-delete-confirm">Remove Selected</button>
      <button id="delete-bar-cancel" class="btn-delete-cancel">Cancel</button>
    </div>
  </div>

  <div class="modal-overlay" id="modal-overlay" style="display:none">
    <div class="modal">
      <div class="modal-header">
        <h2>Add Game</h2>
        <button class="modal-close" id="modal-close-btn" aria-label="Close modal">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="modal-field">
          <label for="game-name">Game Name</label>
          <input type="text" id="game-name" placeholder="e.g. Valorant" />
        </div>

        <div class="modal-field">
          <label for="game-category">Category</label>
          <select id="game-category">
            <option value="FPS">FPS</option>
            <option value="MOBA">MOBA</option>
            <option value="RPG">RPG</option>
            <option value="RTS">RTS</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="modal-field">
          <label for="game-path">Game Executable</label>
          <div class="path-input-group">
            <input type="text" id="game-path" placeholder="Path to .exe..." readonly />
            <button id="btn-browse" class="btn-browse">Browse</button>
          </div>
        </div>

        <button id="btn-toggle-advanced" class="btn-link">Show Advanced Options</button>

        <div id="advanced-options" class="advanced-options hidden">
          <div class="modal-field">
            <label for="game-args">Launch Arguments (Optional)</label>
            <input type="text" id="game-args" placeholder="e.g. -novid -dx11" />
          </div>
          <div class="modal-field">
            <label for="game-working-dir">Working Directory (Optional)</label>
            <input type="text" id="game-working-dir" placeholder="Defaults to exe folder" />
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button id="btn-detect-steam" class="btn-secondary">
          <span class="material-symbols-outlined">cloud_download</span>
          Detect Steam
        </button>
        <div class="modal-actions">
          <button class="btn-secondary" id="btn-cancel-add">Cancel</button>
          <button class="btn-primary" id="btn-confirm-add">Add Game</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" style="display:none"></div>

  <script src="renderer.js"></script>
</body>
</html>




